(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7e464025"],{"52f0":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"saveStep",(function(){return S})),n.d(r,"setModalVisible",(function(){return P}));n("b4fb"),n("e18c"),n("3971"),n("e35a"),n("1c2e"),n("5e9f"),n("0d7a"),n("3725");var a=n("ad1d"),c=n.n(a),o=(n("3462"),n("56a8")),i=n.n(o),u=(n("d803"),n("6585")),s=n.n(u),l=n("e707"),f=n("e60f"),d=n("e369"),p=n("21ba"),v=n("6383"),m=n("e0b9"),b=n.n(m),y=n("720b"),h=n.n(y),k=n("7037"),w=n.n(k),g=(n("f3dd"),n("dbb3"),n("bf84"),n("08ba"),n("70ea")),O=n("6fec"),D=n("f38c"),j=n("3261"),E=function(e){return function(t){return void 0!==t?{type:e,payload:t}:{type:e}}},S=E(j.c),P=E(j.a);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,R=n("f121"),L=n("73c1"),M=n("ed08"),_=n("5a50"),A=n("7ca2");n("57a0");function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}n.d(t,"default",(function(){return z}));var B=Object(M.a)("demo-room"),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reducers";return function(t){return Object(D.b)((function(t){return N({},t[e])}),(function(e){return N({},Object(O.b)(r,e))}))(t)}}("reducers")(C=Object(L.a)(C=function(e){Object(d.a)(n,e);var t=T(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={time:"00:00",visible:!0,running:0,result:null,info:"",showBtn:!1,minLen:1e4},e.workLoop=function(t){if(!e.endTime){var n,r=new Date-e.startTime,a=(r/1e3).toString().split(".");e.setState({time:"".concat(a[0],":").concat((null===(n=a[1])||void 0===n?void 0:n.substr(0,2))||"00"),visible:r<3e3}),window.requestAnimationFrame(e.workLoop)}},e.showAward=function(){A.a.alert("\u592a\u4e0d\u5bb9\u6613\u4e86","\u57fa\u4e8e\u4f60\u5982\u6b64\u4f18\u79c0\u4e14\u575a\u6301\u7684\u8868\u73b0\uff0c\u8fd8\u662f\u8ba9\u4f60\u901a\u8fc7\u8fd9\u4e2a\u6311\u6218\u5427\uff0c\u4e0b\u6b21\u5c31\u6ca1\u8fd9\u4e48\u597d\u8fd0\u5566\uff01",[{text:"\u6253\u5f00\u7ebf\u7d22",onPress:function(){e.setState({showBtn:!0})}}])},e.showResult=function(){e.setState({info:"\u54c7\uff0c\u5b9e\u5728\u662f\u592a\u5389\u5bb3\u4e86\uff0c\u606d\u559c\u62ff\u5230\u5bfb\u5b9d\u7ebf\u7d22\uff01",showBtn:!0})},e.count=0,e.onClick=function(){var t=e.state,n=t.time,r=t.running,a=t.minLen;if(e.setState({running:r>=2?0:r+1}),1===r){e.endTime=new Date,e.setState({visible:!0});var c=+n.replace(":","."),o=b()(Math.abs(h()(c,8)),2);o<3&&(e.count=e.count+1),console.log(o),e.setState({minLen:Math.min(o,a)});var i=o<=.01?"great":o<=.1?"good":"bad";return e.setState({result:i}),"good"===i?(e.right=e.right+1,e.setState({info:"\u597d\u53ef\u60dc\u554a\uff0c\u5c31\u5dee\u4e00\u70b9\u70b9\u4e86\uff0c\u7ee7\u7eed\u52a0\u6cb9\uff01\u518d\u6765~"})):"bad"===i&&e.setState({info:o>.6?"\u54a6~\u5dee\u7684\u6709\u70b9\u591a\u554a":"\u522b\u6c14\u9981\uff0c\u52a0\u6cb9"}),"great"===i&&e.showResult(),void((e.right>=3||e.count>=15&&e.right>=1)&&"great"!==i&&e.showAward())}if(2===r)return e.startTime=null,e.endTime=null,void e.setState({time:"00:00",result:null,info:""});e.startTime=new Date,window.requestAnimationFrame(e.workLoop)},e.onAnimateLeave=function(){return e.setState({visible:!1})},e.getResult=function(){console.log(e.audio.src=_.a),A.a.alert("\u5bfb\u5b9d\u7ebf\u7d22",w.a.createElement("div",{key:"".concat("Di9c","11")},"\u300e",w.a.createElement("span",{style:{fontWeight:"bold",color:"#7ecaa7"},key:"".concat("Di9c","21")},"\u5065\u5eb7\u5b88\u62a4\uff0c\u4e00\u9897\u89c1\u6548"),"\u300f"),[{text:"\u786e\u8ba4"}])},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;!R.d&&A.a.alert("\u901a\u5173\u6761\u4ef6","\u6ca1\u60f3\u5230\u88ab\u4f60\u627e\u5230\u4e86\uff0c\u4f46\u662f\u60f3\u8ba9\u6211\u8bf4\u51fa\u7ebf\u7d22\u6ca1\u90a3\u4e48\u5bb9\u6613\uff01",[{text:"\u6765\u5427",onPress:function(){var t;return null===(t=e.audio)||void 0===t?void 0:t.play()}}])}},{key:"render",value:function(){var e=this,t=this.state,n=t.time,r=t.running,a=t.visible,o=t.result,u=t.info,l=t.showBtn,f=t.minLen;return w.a.createElement("div",{className:"demo-room",key:"".concat("Di9c","12")},w.a.createElement("audio",{ref:function(t){return e.audio=t},autoPlay:!0,src:_.h,loop:!0,key:"".concat("Di9c","31")},w.a.createElement("source",{src:_.h,type:"audio/mp3",key:"".concat("Di9c","41")})," \u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20"),w.a.createElement("div",{className:B("title"),key:"".concat("Di9c","13")},w.a.createElement("div",{key:"".concat("Di9c","14")},"\u65f6\u95f4\u7ba1\u7406\u5927\u5e08")),w.a.createElement("div",{className:B("tips"),key:"".concat("Di9c","15")},"\u70b9\u51fb\u300e\u5f00\u59cb\u300f\u8fdb\u884c\u8ba1\u65f6\uff0c\u70b9\u51fb\u300e\u7ed3\u675f\u300f\u4e2d\u6b62\u8ba1\u65f6\uff0c\u8ba9\u65f6\u95f4\u505c\u6b62\u5728 ",w.a.createElement("span",{key:"".concat("Di9c","22")},"8\u79d2\u6574"),"(\u8bef\u5dee0.01s) \uff0c\u624d\u53ef\u83b7\u53d6\u901a\u5173\u7ebf\u7d22"),w.a.createElement("div",{className:B(["time",o]),style:{opacity:a?1:0},key:"".concat("Di9c","16")},n),w.a.createElement("div",{className:B("mention"),key:"".concat("Di9c","17")},u),w.a.createElement("div",{className:B(["btn","btn-".concat(r)]),onClick:this.onClick,key:"".concat("Di9c","18")},0===r?"\u5f00\u59cb":1===r?"\u7ed3\u675f":"\u91cd\u7f6e"),w.a.createElement(s.a,{size:"lg",key:"".concat("Di9c","51")}),w.a.createElement("div",{style:{width:"100%"},key:"".concat("Di9c","19")},l&&w.a.createElement(c.a,{key:"".concat("Di9c","61")},w.a.createElement(i.a,{type:"primary",onClick:this.getResult,key:"".concat("Di9c","71")},"\u67e5\u770b\u7ebf\u7d22"))),f<10&&w.a.createElement("div",{className:B("okr"),key:"".concat("Di9c","1a")},"\u5386\u53f2\u6700\u5c0f\u8bef\u5dee\u4e3a\uff1a",w.a.createElement("span",{key:"".concat("Di9c","23")},f),"s"))}}]),n}(w.a.Component))||C)||C},"57a0":function(e,t,n){},6585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("e9ab")),a=s(n("d9d8")),c=s(n("5edc")),o=s(n("d1d1")),i=s(n("89cc")),u=s(n("7037"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,r=e.className,a=e.style,c=e.onClick,o=(0,i.default)(t,t+"-"+n,r);return u.default.createElement("div",{className:o,style:a,onClick:c})}}]),t}(u.default.Component);t.default=l,l.defaultProps={prefixCls:"am-whitespace",size:"md"},e.exports=t.default},"720b":function(e,t,n){var r=n("a652")((function(e,t){return e-t}),0);e.exports=r},"9fa9":function(e,t,n){var r=n("fdf7");e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},a652:function(e,t,n){var r=n("ddc6"),a=n("27e3");e.exports=function(e,t){return function(n,c){var o;if(void 0===n&&void 0===c)return t;if(void 0!==n&&(o=n),void 0!==c){if(void 0===o)return c;"string"==typeof n||"string"==typeof c?(n=a(n),c=a(c)):(n=r(n),c=r(c)),o=e(n,c)}return o}}},abc5:function(e,t,n){},d803:function(e,t,n){"use strict";n("fbd8"),n("abc5")},ddc6:function(e,t,n){var r=n("939d");e.exports=function(e){return"number"==typeof e?e:r(e)?NaN:+e}},e0b9:function(e,t,n){var r=n("e6d7")("round");e.exports=r},e6d7:function(e,t,n){var r=n("8096"),a=n("f035"),c=n("fdf7"),o=n("d0c7"),i=r.isFinite,u=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=c(e),(n=null==n?0:u(a(n),292))&&i(e)){var r=(o(e)+"e").split("e"),s=t(r[0]+"e"+(+r[1]+n));return+((r=(o(s)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},f035:function(e,t,n){var r=n("9fa9");e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}}}]);